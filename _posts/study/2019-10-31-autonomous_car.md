---
layout: post
title: 자율주행차 만들기
category: study
tags: [자율주행, Autonomous driving]
comments: true
---

# 자율 주행 자동차 만들기
## 1. 자율 주행 개요
### 자율 주행 알고리즘
#### 센싱
- GPS와 IMU(Inertial measurement unit)
  - 자율 주행차의 위치 파악을 위해 필요함
  - 관성정보 및 지리적 위치에 대한 측정 값을 200Hz 이상의 빠른 주기로 알려줌
  - GPS는 로컬라이제이션 센서 중 상당히 정확하지만 업데이트 주기가 약 10Hz 수준으로 긴 편
  - 따라서 최신 위치 정보를 실시간 제공받을 수 없음
  - IMU는 시간 흐름에 따른 누적 오차로 인해 위치 추정 값의 정확도가 갈수록 떨어짐
  - 하지만 IMU는 주기가 200Hz 이상으로 굉장히 짧아 실시간성이 좋음
  - 따라서 GPS와 IMU를 조합하여 차량 위치에 대한 정확한 정보를 실시간으로 업데이트함
- 라이다
  - 매핑, 로컬라이제이션, 장애물 회피등에 사용됨
  - 레이저 빛의 ToF를 측정해 거리를 측정하고 단색 3D 맵을 생성
  - 정확도가 높기 때문에 HD맵을 생성하고 이동중인 자동차 위치를 파악해 로컬라이제이션(추정)한 뒤, 전방의 장애물을 감지하는 작업에 주로 사용됨
    - 벨로다인 64빔 레이저는 10Hz 주기로 회전하며 측정값을 초당 130만번 읽음
- 카메라
  - 차로, 신호등, 보행자 감지 등과 같이 객체 인지 및 추적 작업에 활용됨
  - 현재는 안전성을 높이기 위해 1080p 카메라를 8개 이상 사용함
  - 이를 토대로 전방, 후방, 좌우 객체를 감지하고 인지하고 추적함
  - 초당 약 1.8GB에 해당하는 원본 데이터를 생성함
- 레이더와 소나
- 장애물 회피를 위한 최후의 수단으로 사용됨
- 차량 이동 경로 선상에서 가장 가까이 있는 대상까지의 거리와 속도 정보를 담고있음
- 레이더와 소나에서 생성된 데이터는 가공을 잘 하지 않음
- 또한 메인 연산 파이프라인을 거치지 않고 제어 장치로 곧바로 전달해 방향을 전환하거나 브레이크를 밟거나 안전벨트를 당기는 __긴급한 동작 수행__
#### 인지
- 로컬라이제이션, 객체 감지, 객체 추적의 3단계로 구성
- 로컬라이제이션
  - GPS/IMU를 활용해 현재 위치를 계산
  - GPS의 느린 주기와 높은 정확도, IMU의 빠른 주기와 큰 누적 오차의 장점들을 잘 융합하도록 __칼만 필터__를 사용함
